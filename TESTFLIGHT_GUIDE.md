# 🚀 TestFlight内测指南

## 📋 TestFlight优势

### 🎯 为什么选择TestFlight？
- **官方平台**：Apple官方内测解决方案
- **大规模测试**：支持最多10,000名外部测试用户
- **简单分发**：测试用户通过TestFlight App直接安装
- **反馈收集**：内置崩溃报告和用户反馈系统
- **版本管理**：支持多个测试版本并行

### ✅ 您当前的构建状态
- **构建ID**: c8cd9fe5-7b32-4a00-b05f-a019950723d8
- **类型**: production (store分发)
- **版本**: 1.0.3 (Build 4)
- **状态**: ✅ 构建完成，可直接用于TestFlight

## 🛠️ TestFlight设置步骤

### 第一步：上传构建到App Store Connect

#### 方法1：使用EAS Submit（推荐）
```bash
# 自动上传到App Store Connect
npx eas submit --platform ios --latest

# 或指定特定构建
npx eas submit --platform ios --id c8cd9fe5-7b32-4a00-b05f-a019950723d8
```

#### 方法2：手动上传
1. 下载构建的IPA文件
2. 使用Xcode或Transporter上传

### 第二步：在App Store Connect中设置应用

#### 2.1 创建应用记录
1. 访问 [App Store Connect](https://appstoreconnect.apple.com)
2. 点击"我的App" → "+"按钮
3. 填写应用信息：
   ```
   应用名称: 阿牧星盘
   Bundle ID: com.xianghuang.astrologyapp
   SKU: astro-ai-app-001
   用户访问权限: 完全访问权限
   ```

#### 2.2 配置应用信息
- **应用描述**: "阿牧星盘 - 专业的星盘分析应用"
- **关键词**: "占星,星盘,命理,星座"
- **支持URL**: 您的网站或支持邮箱
- **隐私政策URL**: （如果有）

### 第三步：TestFlight配置

#### 3.1 处理构建
1. 构建上传后，等待处理完成（通常5-10分钟）
2. 检查是否有合规性警告
3. 添加测试信息（可选）

#### 3.2 内部测试设置
1. 在TestFlight标签页中找到您的构建
2. 点击构建版本
3. 添加内部测试组
4. 邀请团队成员（最多100人）

#### 3.3 外部测试设置
1. 创建外部测试组
2. 添加测试信息：
   ```
   测试内容: 请测试星盘分析功能的准确性和应用的易用性
   反馈重点: 
   - 用户界面体验
   - 分析结果准确性
   - 应用性能表现
   - 发现的任何问题
   ```

## 👥 邀请测试用户

### 邀请方式1：邮箱邀请
1. 在外部测试组中点击"+"
2. 输入测试用户邮箱
3. 系统自动发送邀请邮件

### 邀请方式2：公开链接
1. 启用公开链接选项
2. 复制TestFlight链接
3. 分享给测试用户

### 邀请方式3：二维码
1. 生成TestFlight二维码
2. 用户扫描直接加入测试

## 📱 测试用户指南

### 测试用户需要做什么？
1. **下载TestFlight App**
   - 从App Store搜索"TestFlight"
   - 免费下载安装

2. **接受邀请**
   - 点击邀请邮件中的链接
   - 或扫描二维码
   - 在TestFlight中接受邀请

3. **安装测试应用**
   - 在TestFlight中点击"安装"
   - 等待下载完成

4. **开始测试**
   - 正常使用应用
   - 通过TestFlight提供反馈

## 🔄 版本更新流程

### 发布新测试版本
1. 修复问题或添加新功能
2. 更新版本号：
   ```bash
   # 更新app.json中的版本
   "version": "1.0.4",
   "ios": {
     "buildNumber": "5"
   }
   ```
3. 构建新版本：
   ```bash
   npx eas build --platform ios --profile production
   ```
4. 上传到App Store Connect：
   ```bash
   npx eas submit --platform ios --latest
   ```

### 通知测试用户
- 新版本会自动推送给测试用户
- 用户会收到更新通知
- 可以添加更新说明

## 📊 测试数据收集

### 自动收集的数据
- **崩溃报告**：自动收集崩溃日志
- **使用统计**：安装量、使用时长
- **设备信息**：设备型号、iOS版本

### 用户反馈
- **反馈表单**：用户可直接在TestFlight中反馈
- **截图**：支持截图反馈
- **邮件通知**：您会收到反馈邮件

## 🚨 注意事项

### 测试期限
- **外部测试**：每个版本最多测试90天
- **内部测试**：无时间限制
- **自动过期**：超期后需要上传新版本

### 审核要求
- **外部测试**：需要通过Beta App Review
- **审核时间**：通常24-48小时
- **合规要求**：遵守App Store审核指南

### 用户限制
- **内部测试**：最多100人（开发团队成员）
- **外部测试**：最多10,000人
- **邀请管理**：可以随时添加/移除测试用户

## 🎯 最佳实践

### 1. 测试计划
- 制定详细的测试计划
- 分阶段邀请测试用户
- 设置明确的测试目标

### 2. 反馈管理
- 及时回复用户反馈
- 建立问题追踪系统
- 定期发布更新版本

### 3. 用户体验
- 提供清晰的测试说明
- 定期与测试用户沟通
- 感谢用户的参与和反馈

## 📞 获取帮助

如果遇到问题，可以：
1. 查看Apple开发者文档
2. 联系Apple开发者支持
3. 在开发者论坛寻求帮助

---

## 🚀 立即开始

准备好了吗？让我们开始设置TestFlight：

1. **立即上传构建**：
   ```bash
   npx eas submit --platform ios --latest
   ```

2. **创建App Store Connect应用记录**

3. **设置TestFlight测试组**

4. **邀请第一批测试用户**

🎉 您的iOS应用即将通过TestFlight与更多用户见面！ 